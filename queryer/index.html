<!DOCTYPE HTML>
<html>
<head>
	<title>queryer by Nicholas Tay</title>
	<style>
		html,body { margin:0; padding: 0; }
		html { height: 100%; }
		body { display: table; width: 100%; height: 100%; overflow: hidden; }
		div { display: table-row; }
		div+div { height: 100%; }
		iframe { width: 100%; height: 100%; }
	</style>
</head>
<body>
	<div class="queryer">
		<input type="text" id="query"> <input type="button" id="go" value="go"">
	</div>

	<div class="lookup">
		 <iframe id="qframe" src="data:,Ready"></iframe> 
	</div>

	<script>
	(function() {

	var base = decodeURIComponent(window.location.search).replace("?", "").replace(/^https?:/, "");
	if (!base)
		return document.body.innerHTML = "Set a query url first by adding ? then the url you want with the template query as %s.";

	document.getElementById("query").addEventListener("keyup", function(e) {
	    e.preventDefault();
	    if (e.keyCode === 13)
	        go();
	});
	document.getElementById("go").addEventListener("click", function(e) {
	    e.preventDefault();
	    go();
	});

	function go() {
		var q = document.getElementById("query").value;
		if (q !== "")
			document.getElementById("qframe").src = base.replace("%s", q);
	}

	document.getElementById("query").focus();
	})();
	</script>
</body>
</html>
